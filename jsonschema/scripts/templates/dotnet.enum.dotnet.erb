<% @enums.each do |enum| -%>
<%= enum[:name] %>.cs
using System;
using System.ComponentModel;
using System.Reflection;

namespace io.cucumber.messages.types;

// Generated code
public enum <%= enum[:name] %> {
<% enum[:values].each_with_index do |value, index| -%>

    [Description("<%= value%>")]
    <%= enum_constant(value) %><%= index < enum[:values].length-1 ? ',' : '' %>
<% end -%>

    public static string Value(<%= enum[:name] %> v) {
        var attribute = v.GetType().GetField(v.ToString()).GetCustomAttribute<DescriptionAttribute>();
        return attribute == null ? v.ToString() : attribute.Description; 
    }
}
<% end -%>
